webpackJsonp([17],{286:function(r,e,s){"use strict";function t(r){l||s(858)}Object.defineProperty(e,"__esModule",{value:!0});var o=s(512),a=s.n(o);for(var d in o)"default"!==d&&function(r){s.d(e,r,function(){return o[r]})}(d);var n=s(860),i=s.n(n),l=!1,u=s(4),w=t,c=u(a.a,i.a,!1,w,null,null);c.options.__file="src/views/account/password.vue",e.default=c.exports},512:function(r,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=s(66);e.default={name:"account-password",data:function(){var r=this,e=function(e,s,t){s!==r.editPasswordForm.newPassword?t(new Error("两次输入密码不一致")):t()};return{loading:!1,oldPasswordError:"",editPasswordForm:{oldPassword:"",newPassword:"",reNewPassword:""},passwordValidate:{oldPassword:[{required:!0,message:"请输入原密码",trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{validator:function(r,e,s){e.length<6||e.length>18?s(new Error("请输入6-18位密码")):/^(?![^a-zA-Z]+$)(?!\D+$)/.test(e)?s():s(new Error("密码格式不正确"))},trigger:"blur"}],reNewPassword:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{validator:e,trigger:"blur"}]}}},methods:{submit:function(r){var e=this;this.$refs.editPasswordForm.validate(function(r){r&&(e.loading=!0,(0,t.changePWd)(e.editPasswordForm).then(function(r){e.loading=!1,200==r.status?e.$lf.alert.success("保存成功，请重新登录",null,function(){e.$store.commit("logout",e),e.$store.commit("clearOpenedSubmenu"),e.$router.push({name:"login"})}):e.$lf.alert.error(r.msg)},function(){e.loading=!1}))})},reset:function(){this.$refs.editPasswordForm.resetFields()}}}},858:function(r,e,s){var t=s(859);"string"==typeof t&&(t=[[r.i,t,""]]),t.locals&&(r.exports=t.locals);s(22)("1730a040",t,!1)},859:function(r,e,s){e=r.exports=s(21)(!1),e.push([r.i,"",""])},860:function(r,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(){var r=this,e=r.$createElement,s=r._self._c||e;return s("div",[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{attrs:{type:"key"}}),r._v("修改密码\n        ")],1),r._v(" "),s("Form",{ref:"editPasswordForm",staticStyle:{"max-width":"400px"},attrs:{method:"post",model:r.editPasswordForm,"label-width":100,"label-position":"right",rules:r.passwordValidate},nativeOn:{submit:function(e){e.preventDefault(),r.submit(e)}}},[s("FormItem",{attrs:{label:"原密码",prop:"oldPassword",error:r.oldPasswordError}},[s("Input",{attrs:{name:"oldPassword",type:"password",placeholder:"请输入现在使用的密码"},model:{value:r.editPasswordForm.oldPassword,callback:function(e){r.$set(r.editPasswordForm,"oldPassword",e)},expression:"editPasswordForm.oldPassword"}})],1),r._v(" "),s("FormItem",{attrs:{label:"新密码",prop:"newPassword"}},[s("Input",{attrs:{name:"newPassword",type:"password",placeholder:"请输入新密码，至少6位字符"},model:{value:r.editPasswordForm.newPassword,callback:function(e){r.$set(r.editPasswordForm,"newPassword",e)},expression:"editPasswordForm.newPassword"}})],1),r._v(" "),s("FormItem",{attrs:{label:"确认新密码",prop:"reNewPassword"}},[s("Input",{attrs:{name:"reNewPassword",type:"password",placeholder:"请再次输入新密码"},model:{value:r.editPasswordForm.reNewPassword,callback:function(e){r.$set(r.editPasswordForm,"reNewPassword",e)},expression:"editPasswordForm.reNewPassword"}})],1),r._v(" "),s("FormItem",[s("Button",{attrs:{type:"primary",loading:r.loading,"html-type":"submit"}},[r._v("确定")])],1)],1)],1)],1)},o=[];t._withStripped=!0;var a={render:t,staticRenderFns:o};e.default=a}});
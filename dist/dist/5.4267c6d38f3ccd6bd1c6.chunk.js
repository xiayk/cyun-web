webpackJsonp([5],{285:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(508),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var u=n(857),s=n.n(u),l=n(4),i=l(a.a,s.a,!1,null,null,null);i.options.__file="src/views/sys/menu/edit.vue",t.default=i.exports},307:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return W.default.post("/role/tree",e)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return W.default.post("/sys/menu/types",e)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;return W.default.post("/sys/menu/select",e)}function u(e){var t="";return t=e?"/menu/tree/"+e:"/menu/tree",W.default.post(t)}function s(e){return W.default.post("/merchant/autocomplete",e)}function l(e){return W.default.post("/sys/customer/manager/autocomplete",e)}function i(e){return W.default.post("/agent/manager/autocomplete",e)}function c(e){return W.default.post("/agent/parent/list",e)}function f(e){return W.default.post("/meta/states/merchant",e)}function d(e){return W.default.post("/meta/types/business",e)}function m(e){return W.default.post("/meta/types/merchant",e)}function p(e){return W.default.post("/meta/mcc/list/"+e)}function g(){return W.default.post("/meta/types/certificate")}function h(e){return W.default.post("/meta/states/merchant/audit")}function v(e){return W.default.post("/meta/states/merchant",e)}function y(e){return W.default.post("/merchant/store/list",e)}function b(e){return W.default.post("/merchant/store/autocomplete",e)}function _(e){return W.default.post("/merchant/store/autocomplete",e)}function S(e){return W.default.post("/meta/types/agent",e)}function I(e){return W.default.post("/meta/bank/info/list",e)}function M(e){return W.default.post("/meta/states/agent/audit",e)}function k(e){return W.default.post("/meta/institution/product/all")}function C(e){return W.default.post("/meta/states/charge",e)}function L(e){return W.default.post("/meta/states/refund/type",e)}function x(e){return W.default.post("/meta/types/checking/batch",e)}function F(e){return W.default.post("/meta/states/checking/batch",e)}function $(e){return W.default.post("/meta/types/product",e)}function w(e){return W.default.post("/meta/states/charge",e)}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return W.default.post("/meta/institution/list",e)}function R(e){return W.default.post("/meta/institution/product/list",e)}function P(e){return W.default.post("/merchant/autocomplete",e)}function A(e){return W.default.post("/merchant/store/autocomplete",e)}function q(e){return W.default.post("/merchant/store/operator/autocomplete",e)}function j(e){return W.default.post("/transaction/unify/create/qrcode",e)}function B(e){return W.default.post("/transaction/unify/save/qrcode",e)}function T(e){return W.default.post("/transaction/unify/list/qrcode",e)}function V(e){return W.default.post("/transaction/unify/delete/qrcode/"+e)}function U(e){return W.default.post("/merchant/device/query/StoreDevices",e)}function z(e){return W.default.post("/settle/transaction/export/task/list",e)}function D(){return W.default.post("/zb/admin/clear/institution/list")}function N(){return W.default.post("/meta/types/wallet/sub/account/type")}function E(){return W.default.post("/meta/states/account/checking/file")}function Q(e){return W.default.post("/zb/admin/account/auto/complete",e)}function G(e){return W.default.post("/zb/admin/agent/auto/complete",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.getSysRoles=r,t.getSysMenuTypes=a,t.getSysMenuSelect=o,t.getSysMenuTree=u,t.getMechantSelectList=s,t.getCustomerManagerSelectList=l,t.getAgentManagerSelectList=i,t.getAgentSelectList=c,t.getMechantStatesSelectList=f,t.getBusinessTypesSelectList=d,t.getMerchantTypesSelectList=m,t.getBusinessCategorySelectList=p,t.getCertificateTypes=g,t.getMerchantAuditStates=h,t.getMerchantStatesList=v,t.getMerchantStoreSelectList=y,t.getCashierMerchantStoreList=b,t.getManagerMerchantStoreList=_,t.getAgentTypesList=S,t.getBankInfoList=I,t.getAgentAuditStatesList=M,t.getPayChannels=k,t.getOrderChargeStatus=C,t.getStatesRefundType=L,t.getCheckingBatchTypes=x,t.getCheckingBatchStates=F,t.getPayTypesList=$,t.getSettleStatesList=w,t.getInstitutionList=O,t.getInstitutionProductList=R,t.getMerchantListSelect=P,t.getStoreListSelect=A,t.getStoreOperatorListSelect=q,t.createQrcodeUrl=j,t.saveQrcodeRecord=B,t.getQrcodeRecordList=T,t.deleteQrcodeById=V,t.getPrinterList=U,t.getOrderTaskList=z,t.getInstitution=D,t.getWalletAccountType=N,t.getCheckingFile=E,t.getAccountAutoComplete=Q,t.getZbAdminAgenComplete=G;var J=n(65),W=function(e){return e&&e.__esModule?e:{default:e}}(J),Z={limit:9999,offset:0}},312:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(307);t.default={name:"manager-role-selector",props:{value:{type:Array,default:function(){return[]}},isSingle:{type:Boolean,default:!1},name:"",disabled:{type:Boolean,default:!1}},inheritAttrs:!1,data:function(){return{currentValue:this.value,data:[]}},created:function(){this.getSysRoles()},methods:{getSysRoles:function(){var e=this;(0,r.getSysRoles)().then(function(t){e.data=t.data.map(function(e){return{value:e.roleId,label:e.roleName}})})},handleChange:function(e){this.isSingle&&e.length&&(e=[e[e.length-1]]),this.$emit("input",e)}},watch:{value:function(e){this.currentValue=e}}}},331:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(312),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var u=n(332),s=n.n(u),l=n(4),i=l(a.a,s.a,!1,null,null,null);i.options.__file="src/views/my-components/manager-role-selector/index.vue",t.default=i.exports},332:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CheckboxGroup",{attrs:{size:"small"},on:{"on-change":e.handleChange},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}},e._l(e.data,function(t){return n("Checkbox",{key:t.value,attrs:{disabled:e.disabled,label:t.value}},[e._v(e._s(t.label))])}))},a=[];r._withStripped=!0;var o={render:r,staticRenderFns:a};t.default=o},349:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(307);t.default={name:"salesman-selector",props:{value:{type:[String,Number],default:""}},data:function(){return{currentValue:this.value,data:[]}},created:function(){this.getSysMenuSelect()},methods:{handleChange:function(e){this.$emit("input",e)},getSysMenuSelect:function(){var e=this;(0,r.getSysMenuSelect)().then(function(t){e.data=t.data.map(function(e){return{value:e.id,label:e.name}})})}},watch:{value:function(e){this.currentValue=e}}}},396:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(349),a=n.n(r);for(var o in r)"default"!==o&&function(e){n.d(t,e,function(){return r[e]})}(o);var u=n(397),s=n.n(u),l=n(4),i=l(a.a,s.a,!1,null,null,null);i.options.__file="src/views/my-components/menu-selector/index.vue",t.default=i.exports},397:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Select",e._b({attrs:{placeholder:"无父级菜单",clearable:"",filterable:""},on:{"on-change":e.handleChange},model:{value:e.currentValue,callback:function(t){e.currentValue=t},expression:"currentValue"}},"Select",e.$attrs,!1),e._l(e.data,function(t){return n("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))},a=[];r._withStripped=!0;var o={render:r,staticRenderFns:a};t.default=o},398:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.validateData={types:{required:!0,message:"请选择菜单类别",trigger:"blur"},menuCode:{required:!0,message:"请选择菜单编码",trigger:"blur"},menuName:{required:!0,message:"请选择菜单名称",trigger:"blur"},menuUrl:{required:!0,message:"请选择菜单URL",trigger:"blur"},sort:{required:!0,message:"请选择菜单排序",trigger:"blur"}}},508:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(331),o=r(a),u=n(396),s=r(u),l=n(112),i=n(65),c=n(398),f={code:"",name:"",url:"",types:"1",rank:"1",parentId:"",roleIds:[],menuId:"",functions:[]};t.default={name:"sys-menu-edit",data:function(){return{loading:!1,form:f,rules:c.validateData}},methods:{getMenuDetail:function(){var e=this,t=this.$route.params.id;this.form.id!==t&&(0,l.getMenuDetail)(t).then(function(n){e.form=n.data,e.form.menuId=t})},handlerFunctionAdd:function(){this.form.functions.push({code:"",name:""})},handlerFunctionRemove:function(e){var t=this;this.form.functions[e].name&&this.form.functions[e].code?this.$lf.confirm("确认要删除吗？",function(){t.form.functions.splice(e,1)}):this.form.functions.splice(e,1)},submit:function(e){var t=this;this.$refs.form.validate(function(e){if(e){t.loading=!0;var n=t.form;(0,l.addOrUpdateMenu)(n).then(function(e){t.loading=!1,t.$refs.form.resetFields(),t.$lf.message("添加成功","success"),(0,i.closeCurrentErrPage)(t,"sys-menu")},function(){t.loading=!1})}})}},activated:function(){this.getMenuDetail()},components:{managerRoleSelector:o.default,menuSelector:s.default}}},857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[e._v("\n        编辑菜单\n    ")]),e._v(" "),n("Form",{ref:"form",staticStyle:{"max-width":"800px"},attrs:{method:"post",model:e.form,"label-width":120,"label-position":"right",rules:e.rules},nativeOn:{submit:function(t){t.preventDefault(),e.submit(t)}}},[n("FormItem",{attrs:{label:"菜单编码",prop:"menuCode"}},[n("Input",{model:{value:e.form.menuCode,callback:function(t){e.$set(e.form,"menuCode",t)},expression:"form.menuCode"}})],1),e._v(" "),n("FormItem",{attrs:{label:"菜单名称",prop:"menuName"}},[n("Input",{model:{value:e.form.menuName,callback:function(t){e.$set(e.form,"menuName",t)},expression:"form.menuName"}})],1),e._v(" "),n("FormItem",{attrs:{label:"图标",prop:"menuIco"}},[n("Input",{model:{value:e.form.menuIco,callback:function(t){e.$set(e.form,"menuIco",t)},expression:"form.menuIco"}},[n("Icon",{attrs:{slot:"append",type:e.form.menuIco},slot:"append"})],1)],1),e._v(" "),n("FormItem",{attrs:{label:"父菜单名称",prop:"parentId"}},[n("menu-selector",{model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),n("FormItem",{attrs:{label:"菜单URL",prop:"menuUrl"}},[n("Input",{model:{value:e.form.menuUrl,callback:function(t){e.$set(e.form,"menuUrl",t)},expression:"form.menuUrl"}})],1),e._v(" "),n("FormItem",{attrs:{label:"菜单排序",required:!0}},[n("Input",{model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),n("FormItem",{style:{width:"450px"},attrs:{label:"功能按钮"}},[e._l(e.form.functions,function(t,r){return e.form.functions.length>0?n("Row",{key:r},[n("Col",{attrs:{span:"9"}},[n("FormItem",{attrs:{prop:"functions["+r+"].name",rules:{required:!0,trigger:"blur"},"show-message":!1}},[n("Input",{attrs:{type:"text",size:"small",placeholder:"功能说明..."},model:{value:t.name,callback:function(n){e.$set(t,"name","string"==typeof n?n.trim():n)},expression:"fun.name"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"9",offset:"1"}},[n("FormItem",{attrs:{prop:"functions["+r+"].code",rules:{required:!0,trigger:"blur"},"show-message":!1}},[n("Input",{attrs:{type:"text",size:"small",placeholder:"功能编码（字母、-）"},model:{value:t.code,callback:function(n){e.$set(t,"code","string"==typeof n?n.trim():n)},expression:"fun.code"}})],1)],1),e._v(" "),n("Col",{attrs:{span:"4",offset:"1"}},[n("Button",{attrs:{type:"ghost",size:"small"},on:{click:function(t){e.handlerFunctionRemove(r)}}},[e._v("删除")])],1)],1):e._e()}),e._v(" "),n("Row",[n("Col",{attrs:{span:"24"}},[n("Button",{attrs:{size:"small",type:"primary",icon:"plus-round"},on:{click:e.handlerFunctionAdd}},[e._v("新增功能")])],1)],1)],2),e._v(" "),n("FormItem",{attrs:{label:"分配给角色",prop:"roleIds"}},[n("manager-role-selector",{model:{value:e.form.roleIds,callback:function(t){e.$set(e.form,"roleIds",t)},expression:"form.roleIds"}})],1),e._v(" "),n("FormItem",[n("Button",{attrs:{type:"primary",loading:e.loading,"html-type":"submit"}},[e._v("提交")])],1)],1)],1)},a=[];r._withStripped=!0;var o={render:r,staticRenderFns:a};t.default=o}});